{% extends 'fileapp/base.html' %}

{% block title %}Uploaded Files - Blockchain File Management{% endblock %}

{% block content %}
<h2 class="text-center" style="color: var(--primary-dark); font-weight: bold;">Your Uploaded Files</h2>
<p style="text-align: center; margin-bottom: 2rem; color: var(--text-color); font-size: 1.1rem;">
    View all your files stored on our blockchain system along with their unique hashes.
</p>

{% if files %}
<ul class="file-list" style="list-style: none; padding: 0; max-width: 800px; margin: auto;">
    {% for file in files %}
    <li class="file-item" style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: var(--white); border-radius: 8px; box-shadow: var(--shadow); margin-bottom: 12px;">
        <div>
            <div class="file-name" style="font-weight: bold; font-size: 1rem; color: var(--primary-color);">
                <i class="fas fa-file"></i>
                <a href="{% url 'file_detail' file.id %}" class="text-decoration-none" style="color: var(--primary-color);">
                    {{ file.file.name|cut:"uploads/" }}
                </a>
            </div>
            <div class="file-hash" style="color: var(--text-color); font-size: 0.9rem;">
                <small>Hash: {{ file.file_hash }}</small>
            </div>
        </div>
        <div style="color: var(--primary-dark); font-size: 0.9rem; font-weight: bold; display: flex; align-items: center;">
            <i class="fas fa-check-circle" style="color: var(--primary-light); margin-right: 5px;"></i> Verified
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<div style="text-align: center; padding: 3rem 1rem; background-color: var(--secondary-color); border-radius: 12px; box-shadow: var(--shadow); max-width: 600px; margin: auto;">
    <i class="fas fa-file-upload" style="font-size: 3rem; color: var(--accent-color); margin-bottom: 1rem;"></i>
    <h3 style="color: var(--primary-dark);">No Files Found</h3>
    <p style="margin-bottom: 1.5rem;">You haven't uploaded any files yet.</p>
    <a href="{% url 'upload_file' %}" class="button" style="background-color: var(--primary-color); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none;">
        <i class="fas fa-upload"></i> Upload Your First File
    </a>
</div>
{% endif %}

<!-- Upload Button with More Spacing -->
<div style="text-align: center; margin-top: 3rem;">
    <a href="{% url 'upload_file' %}" class="button" style="background-color: var(--primary-dark); color: white; padding: 12px 24px; border-radius: 10px; text-decoration: none;">
        <i class="fas fa-plus"></i> Upload More Files
    </a>
</div>

<!-- Centered Footer -->
<footer style="text-align: center; margin-top: 4rem; padding: 1rem 0; color: var(--text-color); font-size: 0.9rem;">
    <p>Blockchain File Management System &copy; 2025</p>
</footer>

{% endblock %}
